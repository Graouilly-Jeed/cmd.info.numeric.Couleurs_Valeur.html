<!--
**********************************************************************
**********       Variables pour configurer le NOM           **********
**********************************************************************
TailNom  // Taille (défaut 20px)
EpPolNom  // Epaisseur (défaut bold) autre choix(normal)
CoulNom  // Couleur (défaut green)
MargeHNom   // Espace Haut (défaut 10px)
textAlignNom   // Alignement (défaut center) autre choix(right;left)
EpBordNom   // Epaisseur du contour du texte (défaut 0px) peux etre utiliser avec un point exemple :(0.4)
CoulBordNom   // Couleur du contour du texte (défaut #ffffff = Blanc)
**********************************************************************
**********       Variables pour configurer la VALEUR        **********
**********************************************************************
TailVal  // Taille (défaut 20px)
EpPolVal  // Epaisseur (défaut bold) autre choix(normal)
CoulVal  // Couleur (défaut green)
CoulValMax  // Couleur de la valeur > de l’unité (défaut red)
CoulValMin  // Couleur de la valeur < de l’unité (défaut blue)
MaxVal  // Valeur > de l’unité (défaut 22)
MinVal  // Valeur < de l’unité (défaut 15)
MargeHVal   // Espace Haut (défaut 10px)
textAlignVal   // Alignement (défaut center) autre choix(right;left)
EpBordVal   // Epaisseur du contour du texte (défaut 0px)
CoulBordVal   // Couleur du contour du texte (défaut #ffffff = Blanc)
**********************************************************************
**********  Variables pour configurer le MIN/MAX/TENDANCE   **********
**********************************************************************
TailMMT  // Taille (défaut 20px)
EpPolMMT  // Epaisseur (défaut bold) autre choix(normal)
CoulMMT  // Couleur (défaut green)
MargeHMMT   // Espace Haut (défaut 10px)
textAlignMMT   // Alignement (défaut center) autre choix(right;left)
EpBordMMT   // Epaisseur du contour du texte (défaut 0px)
CoulBordMMT   // Couleur du contour du texte (défaut #ffffff = Blanc)
**********************************************************************
**********        Variables pour configurer la Durée        **********
**********************************************************************
TailDur  // Taille (défaut 20px)
EpPolDur  // Epaisseur (défaut bold) autre choix(normal)
CoulDur  // Couleur (défaut green)
MargeHDur   // Espace Haut (défaut 10px)
textAlignDur   // Alignement (défaut center)
EpBordDur   // Epaisseur du contour du texte (défaut 0px)
CoulBordDur   // Couleur du contour du texte (défaut #ffffff = Blanc)

AffDuree // Afficher la durée oui / non

**********************************************************************
**********************************************************************
**********                CREATION GRAOUILLY                **********
**********************************************************************
**********************************************************************

-->

<div class="tooltips cmd cmd-widget #history#" data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#" data-version="#version#">
  	<div class="title #hide_name#">
		<div class="name#id#"></div>
	</div>
	<div class="state#id#"></div>
	<div class="title cmdStats #hide_history#">
		<div class="Histo#id#">Min : #minHistoryValue# | Max : #maxHistoryValue# <span class="#tendance#"></span></div>      
	</div>
  
  	<div class="AffDuree#id#">
  		<div class="timeCmd#id#"></div>
	</div>
<script>
jeedom.cmd.update['#id#'] = function(_options){

  	$('.cmd[data-cmd_id=#id#] .state#id#').empty().append(_options.display_value+' '+'#unite#');
	$('.cmd[data-cmd_id=#id#] .name#id#').empty().append('#name#');

	var TailNom   		= ('#TailNom#'   !='#'+'TailNom#') ?   "#TailNom#"  :"30";  // Taille du NOM
	var EpPolNom   		= ('#EpPolNom#'   !='#'+'EpPolNom#') ?   "#EpPolNom#"  :"bold";  // Epaisseure du texte  NOM "bold" autre choix "normal"
	var CoulNom   		= ('#CoulNom#'   !='#'+'CoulNom#') ?   "#CoulNom#"  :"black";  // couleur texte  NOM
	var MargeHNom 		= ('#MargeHNom#' !='#'+'MargeHNom#') ? "#MargeHNom#":'10';   // Marge haute NOM
	var textAlignNom 	= ('#textAlignNom#' !='#'+'textAlignNom#') ? "#textAlignNom#":'center';   // Mage gauche et droite Valeur
	var EpBordNom 		= ('#EpBordNom#' !='#'+'EpBordNom#') ? "#EpBordNom#":'1';   // Epaisseur contour Valeur
	var CoulBordNom 	= ('#CoulBordNom#' !='#'+'CoulBordNom#') ? "#CoulBordNom#":'White';   // Couleur contour Valeur

//
	var TailVal   		= ('#TailVal#'   !='#'+'TailVal#') ?   "#TailVal#"  :"20px";  // Taille du texte  VALEUR
	var EpPolVal   		= ('#EpPolVal#'   !='#'+'EpPolVal#') ?   "#EpPolVal#"  :"bold";  // Epaisseure du texte  VALEUR autre choix "normal"
	var CoulVal   		= ('#CoulVal#'   !='#'+'CoulVal#') ?   "#CoulVal#"  :"green";  // couleur texte  VALEUR
	var CoulValMax   	= ('#CoulValMax#'   !='#'+'CoulValMax#') ?   "#CoulValMax#"  :"red";  // couleur texte  VALEUR
	var CoulValMin   	= ('#CoulValMin#'   !='#'+'CoulValMin#') ?   "#CoulValMin#"  :"blue";  // couleur texte  VALEUR
	var MaxVal   		= ('#MaxVal#'   !='#'+'MaxVal#') ?   "#MaxVal#"  :22;  // Max  VALEUR
	var MinVal   		= ('#MinVal#'   !='#'+'MinVal#') ?   "#MinVal#"  :15;  // Min  VALEUR
	var MargeHVal 		= ('#MargeHVal#' !='#'+'MargeHVal#') ? "#MargeHVal#":'10';   // Marge haute Valeur
	var textAlignVal 	= ('#textAlignVal#' !='#'+'textAlignVal#') ? "#textAlignVal#":'center';   // Mage gauche et droite Valeur
	var EpBordVal 		= ('#EpBordVal#' !='#'+'EpBordVal#') ? "#EpBordVal#":'0';   // Epaisseur contour Valeur
	var CoulBordVal 	= ('#CoulBordVal#' !='#'+'CoulBordVal#') ? "#CoulBordVal#":'#ffffff';   // Couleur contour Valeur

	var TailMMT   		= ('#TailMMT#'   !='#'+'TailMMT#') ?   "#TailMMT#"  :"10";  // Taille du NOM
	var EpPolMMT   		= ('#EpPolMMT#'   !='#'+'EpPolMMT#') ?   "#EpPolMMT#"  :"bold";  // Epaisseure du texte  NOM "bold" autre choix "normal"
	var CoulMMT   		= ('#CoulMMT#'   !='#'+'CoulMMT#') ?   "#CoulMMT#"  :"White";  // couleur texte  NOM
	var MargeHMMT 		= ('#MargeHMMT#' !='#'+'MargeHMMT#') ? "#MargeHMMT#":'10';   // Marge haute NOM
	var textAlignMMT 	= ('#textAlignNom#' !='#'+'textAlignNom#') ? "#textAlignNom#":'center';   // Mage gauche et droite Valeur
	var EpBordMMT 		= ('#EpBordMMT#' !='#'+'EpBordMMT#') ? "#EpBordMMT#":'0.4';   // Epaisseur contour Valeur
	var CoulBordMMT 	= ('#CoulBordMMT#' !='#'+'CoulBordMMT#') ? "#CoulBordMMT#":'#1132de';   // Couleur contour Valeur

	var TailDur   		= ('#TailDur#'   !='#'+'TailDur#') ?   "#TailDur#"  :"15";  // Taille du NOM
	var EpPolDur   		= ('#EpPolDur#'   !='#'+'EpPolDur#') ?   "#EpPolDur#"  :"bold";  // Epaisseure du texte  NOM "bold" autre choix "normal"
	var CoulDur   		= ('#CoulDur#'   !='#'+'CoulDur#') ?   "#CoulDur#"  :"White";  // couleur texte  NOM
	var MargeHDur 		= ('#MargeHDur#' !='#'+'MargeHDur#') ? "#MargeHDur#":'10';   // Marge haute NOM
	var textAlignDur 	= ('#textAlignDur#' !='#'+'textAlignDur#') ? "#textAlignDur#":'center';   // Mage gauche et droite Valeur
	var EpBordDur 		= ('#EpBordDur#' !='#'+'EpBordDur#') ? "#EpBordDur#":'0.4';   // Epaisseur contour Valeur
	var CoulBordDur 	= ('#CoulBordDur#' !='#'+'CoulBordDur#') ? "#CoulBordDur#":'#1132de';   // Couleur contour Valeur

	var AffDuree 		= ('#AffDuree#' !='#'+'AffDuree#') ? "#AffDuree#":'oui';


	$(".name#id#").css('font-size', TailNom+'px');
	$(".name#id#").css('font-weight', EpPolNom);
	$(".name#id#").css('color', CoulNom);   
	$(".name#id#").css('margin-top', MargeHNom+'px' ); 
	$(".name#id#").css('text-align', textAlignNom);   
	$(".name#id#").css('-webkit-text-stroke', EpBordNom+'px' ); 
	$(".name#id#").css('-webkit-text-stroke-color', CoulBordNom ); 

	$(".state#id#").css('font-size', TailVal+'px');   
	$(".state#id#").css('font-weight', EpPolVal);
	$(".state#id#").css('color', CoulVal ); 
	$(".state#id#").css('margin-top', MargeHVal+'px' ); 
	$(".state#id#").css('text-align', textAlignVal ); 
	$(".state#id#").css('-webkit-text-stroke' , EpBordVal+'px' ); 
	$(".state#id#").css('-webkit-text-stroke-color',  CoulBordVal  ); 

	$(".Histo#id#").css('font-size', TailMMT+'px');   
	$(".Histo#id#").css('font-weight', EpPolMMT);
	$(".Histo#id#").css('color', CoulMMT ); 
	$(".Histo#id#").css('margin-top', MargeHMMT+'px');   
	$(".Histo#id#").css('text-align', textAlignMMT); 
	$(".Histo#id#").css('-webkit-text-stroke', EpBordMMT+'px' ); 
	$(".Histo#id#").css('-webkit-text-stroke-color', CoulBordMMT ); 

	$(".AffDuree#id#").css('font-size', TailDur+'px');   
	$(".AffDuree#id#").css('font-weight', EpPolDur);
	$(".AffDuree#id#").css('color', CoulDur);   
	$(".AffDuree#id#").css('margin-top', MargeHDur+'px');   
	$(".AffDuree#id#").css('text-align', textAlignDur);   
	$(".AffDuree#id#").css('-webkit-text-stroke', EpBordDur+'px' ); 
	$(".AffDuree#id#").css('-webkit-text-stroke-color', CoulBordDur ); 
//
  if (_options.display_value > MaxVal ) {
		$(".state#id#").css('color', CoulValMax);   
	}else if (_options.display_value < MinVal ) { 
	    $(".state#id#").css('color', CoulValMin);   
	}
	if( AffDuree == 'oui'){
		jeedom.cmd.displayDuration(_options.valueDate, $('.cmd[data-cmd_id=#id#] .timeCmd#id#'));
	}


}
jeedom.cmd.update['#id#']({display_value:'#state#',
                           valueDate:'#valueDate#',
                           collectDate:'#collectDate#',
                           alertLevel:'#alertLevel#'});

</script>
</div>
